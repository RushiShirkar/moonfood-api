var timeout;function set_suggestion_div_width(t){$("#suggestion_div").css("width",t)}function ajax_call(t,o,i,n,e){$.ajax({type:o,url:t,dataType:"json",data:n,success:function(t){"city_suggestion"==e?city_suggestion(i,t):"logout_funct"==e&&logout_funct(i,t)},error:function(t,o,i){'"User Already Login"'==t.responseText&&(window.location.href="/Auth/login")}})}function city_suggestion(t,o){var i="";if("No Result Found"==o)i+='<div><a href="javascript:void(0)" style="color:red">Sorry! We don\'t serve at your location currently.</a></div>';else for(var n=0;n<o.length;n++)i=i+'<div><a href="/product/'+o[n].name+'?shop=All Shop">'+o[n].name+"</a></div>";$("#"+t).html(i).show()}function suggestion_funct(){clearTimeout(timeout),timeout=setTimeout(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var t=$("#city_txtbox").val();""!=t&&null!=t||$("#suggestion_div").html("").show(),ajax_call("/search/city?q="+t,"POST","suggestion_div","","city_suggestion")},200)}function logout_funct(t,o){window.location.href=window.location.href}$(document).ready(function(){set_suggestion_div_width($("#city_txt").width()),$("#city_txtbox").focusin(function(){$("#suggestion_div").show()}),$(".btn_logout_user").click(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$('link[rel="shortcut icon"]').attr("href","/assets/img/loader.gif"),ajax_call("/logout","POST","","","logout_funct")}),$("#city_txtbox").focusout(function(){"Sorry! We don't serve at your location currently."==$("#suggestion_div div a").html()&&$("#suggestion_div").html(""),setTimeout(function(){$("#suggestion_div").hide()},500)}),$("#city_txtbox").keydown(function(){suggestion_funct()}),$("#clear_btn").click(function(){$("#city_txtbox").val("")}),$("#city_form").submit(function(t){$("#city_txtbox").val();1==$("#suggestion_div div").children().length&&"Sorry! We don't serve at your location currently."!=$("#suggestion_div div a").html()&&(window.location.href=$("#suggestion_div div a").attr("href")),t.preventDefault()}),$(window).resize(function(){setTimeout(function(){set_suggestion_div_width($("#city_txt").width())},1e3)})});