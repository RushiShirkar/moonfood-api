!function(t){function e(e,i){this.element=t(e),this.lastValues={},t.isArray(i)||(i=[i||{}]),i.length||i.push({}),this.optionList=i;var s=this.element.css("transform")||"";this.defaultZIndex=this.element.css("z-index")||100,"auto"==this.defaultZIndex?this.defaultZIndex=100:"0"==this.defaultZIndex&&"none"!=s&&(this.defaultZIndex=100),this.updateOptions(),this.lastY=this.offsetY=0,this.stick=d.None,this.spacer=t("<div />"),this.spacer[0].id=e.id,this.spacer[0].className=e.className,this.spacer[0].style.cssText=e.style.cssText,this.spacer.addClass("jquery-stickit-spacer"),this.spacer[0].style.cssText+=";visibility: hidden !important;display: none !important",this.spacer.insertAfter(this.element),"static"==this.element.parent().css("position")&&this.element.parent().css("position","relative"),this.origWillChange=this.element.css("will-change"),"auto"==this.origWillChange&&this.element.css("will-change","transform"),"none"==s?this.element.css("transform","translateZ(0)"):-1==s.indexOf("matrix3d")&&this.element.css("transform",this.element.css("transform")+" translateZ(0)"),this.bound(),this.precalculate(),this.store()}function i(){g=window.innerHeight||document.documentElement.clientHeight,f=window.innerWidth||document.documentElement.clientWidth,s()}function s(){u=!0,t(":jquery-stickit").each(function(){t(this).data("jquery-stickit").refresh()}),setTimeout(function(){u=!1})}function o(){u=!0,t(":jquery-stickit").each(function(){t(this).data("jquery-stickit").locate()}),setTimeout(function(){u=!1})}function n(){var e=!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);t(":jquery-stickit").each(function(){t(this).data("jquery-stickit").enableWillChange(!e)})}function r(t){u||s()}var l=-1!=navigator.userAgent.indexOf("MSIE 7.0"),a=l?-2:0,c=void 0!==window.MutationObserver,h=window.StickScope={Parent:0,Document:1},d={None:0,Fixed:1,Absolute:2},p=!1,u=!1;t.expr[":"]["jquery-stickit"]=function(e){return!!t(e).data("jquery-stickit")},e.prototype.trigger=function(t){var e="on"+t.charAt(0).toUpperCase()+t.slice(1);this.options[e]&&this.options[e].call(this.element),this.element.trigger("stickit:"+t)},e.prototype.isActive=function(t){return(void 0===t.screenMinWidth||f>=t.screenMinWidth)&&(void 0===t.screenMaxWidth||f<=t.screenMaxWidth)},e.prototype.updateCss=function(t){this.element.hasClass(this.options.className)&&t.className!=this.options.className&&this.element.removeClass(this.options.className).addClass(t.className);var e={};this.stick==d.Absolute?this.options.extraHeight!=t.extraHeight&&(e.bottom=-this.options.extraHeight+"px"):this.options.top!=t.top&&(e.top=t.top+this.offsetY+"px"),this.options.zIndex!=t.zIndex&&(e.zIndex=this.getZIndex(t)),this.element.css(e)},e.prototype.updateOptions=function(){var t=this.getActiveOptionsKey();if(this.activeKey!=t){this.activeKey=t;var e=this.getActiveOptions();this.options&&(t?this.stick!=d.None&&(e.scope==this.options.scope?this.updateCss(e):(this.reset(),setTimeout(this.locate.bind(this)))):this.reset()),this.options=e,this.zIndex=this.getZIndex(e)}},e.prototype.getZIndex=function(t){return void 0===t.zIndex?this.defaultZIndex:t.zIndex},e.prototype.getActiveOptionsKey=function(){for(var t=[],e=0;e<this.optionList.length;++e)this.isActive(this.optionList[e])&&t.push(e);return t.join("_")},e.prototype.getActiveOptions=function(){for(var e={},i=0;i<this.optionList.length;++i){var s=this.optionList[i];this.isActive(s)&&t.extend(e,s)}return e.scope=e.scope||h.Parent,e.className=e.className||"stick",e.top=e.top||0,e.extraHeight=e.extraHeight||0,void 0===e.overflowScrolling&&(e.overflowScrolling=!0),e},e.prototype.store=function(){var t=this.element[0];this.origStyle={width:t.style.width,position:t.style.position,left:t.style.left,top:t.style.top,bottom:t.style.bottom,zIndex:t.style.zIndex}},e.prototype.restore=function(){this.element.css(this.origStyle)},e.prototype.bound=function(){var t=this.element;if(l||"border-box"!=t.css("box-sizing"))this.extraWidth=0;else{var e=parseFloat(t.css("border-left-width"))||0,i=parseFloat(t.css("border-right-width"))||0,s=parseFloat(t.css("padding-left"))||0,o=parseFloat(t.css("padding-right"))||0;this.extraWidth=e+i+s+o}this.margin={top:parseFloat(t.css("margin-top"))||0,bottom:parseFloat(t.css("margin-bottom"))||0,left:parseFloat(t.css("margin-left"))||0,right:parseFloat(t.css("margin-right"))||0},this.parent={border:{bottom:parseFloat(t.parent().css("border-bottom-width"))||0}}},e.prototype.precalculate=function(){this.baseTop=this.margin.top+this.options.top,this.basePadding=this.baseTop+this.margin.bottom,this.baseParentOffset=this.options.extraHeight-this.parent.border.bottom,this.offsetHeight=this.options.overflowScrolling?Math.max(this.element.outerHeight(!1)+this.basePadding-g,0):0,this.minOffsetHeight=-this.offsetHeight},e.prototype.reset=function(){this.stick==d.Absolute?(this.trigger("unend"),this.trigger("unstick")):this.stick==d.Fixed&&this.trigger("unstick"),this.stick=d.None,this.spacer.css("width",this.origStyle.width),this.spacer[0].style.cssText+=";display: none !important",this.restore(),this.element.removeClass(this.options.className)},e.prototype.setAbsolute=function(t){this.stick==d.None&&(this.element.addClass(this.options.className),this.trigger("stick")),this.trigger("end"),this.stick=d.Absolute,this.element.css({width:this.element.width()+this.extraWidth+"px",position:"absolute",top:this.origStyle.top,left:t+"px",bottom:-this.options.extraHeight+"px","z-index":this.zIndex})},e.prototype.setFixed=function(t,e,i){this.stick==d.None?(this.element.addClass(this.options.className),this.trigger("stick")):this.trigger("unend"),this.options.overflowScrolling||(i=0),this.stick=d.Fixed,this.lastY=e,this.offsetY=i,this.element.css({width:this.element.width()+this.extraWidth+"px",position:"fixed",top:this.options.top+i+"px",left:t+"px",bottom:this.origStyle.bottom,"z-index":this.zIndex})},e.prototype.updateScroll=function(t){if(0!=this.offsetHeight&&this.options.overflowScrolling){var e=Math.max(this.offsetY+t-this.lastY,this.minOffsetHeight);e=Math.min(e,0),this.lastY=t,this.offsetY!=e&&(this.offsetY=e,this.element.css("top",this.options.top+this.offsetY+"px"))}},e.prototype.isHeigher=function(){return this.options.scope==h.Parent&&this.element.parent().height()<=this.element.outerHeight(!1)+this.margin.bottom},e.prototype.locate=function(){if(this.activeKey){var t=this.element,e=this.spacer;switch(this.stick){case d.Fixed:var i=e[0].getBoundingClientRect(),s=i.top-this.baseTop;0<=s||this.isHeigher()?this.reset():this.options.scope==h.Parent?(i=t.parent()[0].getBoundingClientRect()).bottom+this.baseParentOffset+this.offsetHeight<=t.outerHeight(!1)+this.basePadding?this.setAbsolute(this.spacer.position().left):this.updateScroll(i.bottom):this.updateScroll(i.bottom);break;case d.Absolute:s=(i=e[0].getBoundingClientRect()).top-this.baseTop;var o=i.left-this.margin.left;0<=s||this.isHeigher()?this.reset():(i=t.parent()[0].getBoundingClientRect()).bottom+this.baseParentOffset+this.offsetHeight>t.outerHeight(!1)+this.basePadding&&this.setFixed(o+a,i.bottom,-this.offsetHeight);break;default:0<=(s=(i=t[0].getBoundingClientRect()).top-this.baseTop)||this.isHeigher()||(s=t.parent()[0].getBoundingClientRect(),e.height(t.height()),e.show(),o=i.left-this.margin.left,this.options.scope==h.Document?this.setFixed(o,i.bottom,0):s.bottom+this.baseParentOffset+this.offsetHeight<=t.outerHeight(!1)+this.basePadding?this.setAbsolute(this.element.position().left):this.setFixed(o+a,i.bottom,0),e.width()||e.width(t.width()))}}},e.prototype.refresh=function(){if(this.updateOptions(),this.bound(),this.precalculate(),this.stick!=d.None){var t=this.element,e=this.spacer;this.lastValues.width!=e.width()&&t.width(this.lastValues.width=e.width()),this.lastValues.height!=t.height()&&e.height(this.lastValues.height=t.height()),this.stick==d.Fixed&&(e=this.spacer[0].getBoundingClientRect().left-this.margin.left,this.lastValues.left!=e+"px"&&t.css("left",this.lastValues.left=e+"px"))}this.locate()},e.prototype.destroy=function(){this.reset(),this.spacer.remove(),this.element.removeData("jquery-stickit")},e.prototype.enableWillChange=function(t){"auto"==this.origWillChange&&this.element.css("will-change",t?"transform":this.origWillChange)};var g,f,m=["destroy","refresh"];t.fn.stickit=function(s,l){if("string"==typeof s){if(-1!=t.inArray(s,m)){var a=arguments;this.each(function(){var e=t(this).data("jquery-stickit");e&&e[s].apply(e,Array.prototype.slice.call(a,1))})}}else p||(p=!0,i(),t(document).ready(function(){t(window).bind("resize",i).bind("scroll",o),t(document.body).bind("animationend webkitAnimationEnd oAnimationEnd transitionend webkitTransitionEnd oTransitionEnd",o),t(document).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",n)}),c&&new MutationObserver(r).observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),l=t.isArray(s)?s:Array.prototype.slice.call(arguments,0),this.each(function(){var i=new e(this,l);t(this).data("jquery-stickit",i),i.locate()});return this},t.stickit={refresh:s}}(jQuery);var page=1;function getUrl(){var t=getFullUrl();return delete t.gender,delete t.category,delete t.sort,t}function getFullUrl(){var t=window.location.href;return t=t.substring(t.indexOf("?")+1),t=JSON.parse('{"'+decodeURI(t.replace(/&/g,'","').replace(/=/g,'":"'))+'"}')}function changeUrl(t){history.pushState(null,null,t)}function removeFilter(t,e){var i=getUrl(),s=getFullUrl();if(t=t.toLowerCase(),e=e.toLowerCase(),i[t]=i[t].toLowerCase(),s[t]=s[t].toLowerCase(),void 0==i[t]||null==i[t]||""==i[t])return!1;var o=i[t].split(" and ");if(o=$(o).not([e]).get(),console.log("-----------"),console.log(o),console.log("-----------"),"shop"==t)s[t]="All Shop";else if(0==o.length)delete s[t];else{for(var n="",r=0;r<o.length;r++)n=n+o[r]+" and ";n=n.substring(0,n.length-5),s[t]=n}i="";for(var t in s)i=i+t+"="+s[t]+"&";return i=i.substring(0,i.length-1),i=window.location.pathname+"?"+i}function addFilter(t,e){t=t.toLowerCase();var i=getUrl(),s=getFullUrl();if("shop"==t)console.log("in shop"),s[t]=e;else if(void 0==i[t]||null==i[t]||""==i[t])s[t]=e;else{console.log("in else");var o=i[t].split(" and ");if(3==o.length)return alert("Can't Add More Than 3 "+t+" Filter"),!1;for(var n=0,r=0;r<o.length;r++)o[r]==e&&(n=1);0==n&&o.push(e);var l="";for(r=0;r<o.length;r++)l=l+o[r]+" and ";l=l.substring(0,l.length-5),s[t]=l}i="";for(var t in s)i=i+t+"="+s[t]+"&";return i=i.substring(0,i.length-1),i=window.location.pathname+"?"+i}function unchecked_all_checkbox(){$(".filter-input").prop("checked",!1)}function checked_checkbox(){var t=getUrl(),e="";for(var i in t){if("shop"==i)var s=t[i].split("*");else s=t[i].split(" and ");for(var o=0;o<s.length;o++)console.log("array value : "+s[o]),s[o]=s[o].toLowerCase(),i=i.toLowerCase(),$('.filter-input[name="'+i+'" i][value="'+s[o]+'" i]').prop("checked",!0),"all shop"!=s[o]&&(1!=$('.filter-input[name="'+i+'" i][value="'+s[o]+'" i]').prop("checked")&&"shop"!=i||(e=e+'<button data-name="'+i+'" data-value="'+s[o]+'" style="outline: none" class="fil_button filter_result_btn"><span>'+i+": "+s[o].toUpperCase()+"</span></button><br>"))}fill_filter_result(e)}function checked_checkbox_funct(t,e){addFilter(t,e),unchecked_all_checkbox(),checked_checkbox()}function unchecked_checkbox_funct(t,e){removeFilter(t,e),unchecked_all_checkbox(),checked_checkbox()}function selectsort(){var t=getFullUrl();return void 0!=t.sort&&null!=t.sort&&""!=t.sort&&($(".product_sort").val(t.sort),!0)}function clear_filter(){unchecked_all_checkbox();var t=window.location.pathname,e=getFullUrl();void 0==e.sort&&(e.sort="ltoh");var i="?shop="+e.shop+"&category="+e.category+"&gender="+e.gender+"&sort="+e.sort;changeUrl(i=t+i)}function ajax_call1(t,e,i,s,o){$.ajax({type:e,url:t,dataType:"json",data:s,success:function(t){showProduct(i,t),$("#loading_sign").hide()},error:function(t,e,i){$("#load_more_product_btn").hide(),$("#loading_sign").html("")}})}function fill_filter_result(t){$(".product_filter_result").html(t)}function getProduct(t,e){$.ajax({type:"get",url:e,dataType:"json",success:function(e){showProduct(t,e)},error:function(e,i,s){if("more_product_div"==t)alert("Error loading more product");else{var o=window.location.pathname.split("/");loaderror({error:"No "+(o=decodeURIComponent(o[o.length-1]))+" Found"})}}})}function showSizes(t){t=t.result,console.log(t);for(var e="",i=0;i<t.length;i++)e=e+'<div class="checkbox">\n                                <label class="container"><input type="checkbox" class="filter-input" name="size" value="'+t[i].name.toLowerCase()+'">&nbsp\n                                    <span class="checkmark"></span>\n                                    '+t[i].name+"</label>\n                            </div>";$(".js_size_filter").html(e),checked_checkbox(),$.stickit.refresh()}function loadsizes(t){$.ajax({type:"get",url:"/product/sizes/json",data:t,dataType:"json",success:function(t){showSizes(t)},error:function(t,e,i){$(".js_sizes_filter").hide()}})}function loaderror(t){$.ajax({type:"get",url:"/error/500",data:t,success:function(t){show_Product_Error(t)},error:function(t,e,i){window.location.href="/error/500?error="}})}function showProduct(t,e){e=e.result;var i=window.location.pathname.split("/");i=i[2];var s=getFullUrl(),o="";0!=e.length&&16==e.length||$("#load_more_product_btn").hide();for(var n=0;n<e.length;n++){var r=parseInt(e[n].selling_price),l=100*r/parseInt(e[n].mrp_price),a=e[n].wishlistflag;a=0==a?"out_wishlist":"in_wishlist",delete r,l=parseInt(100-l),o=o+'                           <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 border1 pzero">                        <div data-w_flag="'+e[n].wishlistflag+'" data-id="'+e[n].id+'" class="wishlist_btn" style="cursor: pointer">                                    <span class="glyphicon glyphicon-heart '+a+'" style="font-size: 22px"></span>\n                                </div>                                <a target="_blank" href="/product/'+i+"/"+e[n].name+"/"+e[n].id+"/buy?shop="+s.shop+'" class="decoration_none">\n                                    <div class="row img_l_container hover">\n                                        <div class="col-xs-4 col-sm-12 col-md-12">\n                                            <div class="small_inner_container min-height ">\n\n                                                <img src="'+e[n].image[0]+'" alt="samsung-galaxy-y" class="list-img vertical_center img-fluid"/>\n\n                                            </div>\n                                        </div>\n                                        <div class="col-xs-8 col-sm-12 col-md-12">\n                                            <div class="inner_container p_title text18 text-black lineclampin">\n                                                '+e[n].name+'\n                                            </div>\n                                            <div class="inner_container text18 font-bold text-black">\n                                                <b>Rs. '+e[n].selling_price+'/-</b> &nbsp <small style="color:green"><del style="color:gray !important;">'+e[n].mrp_price+"</del> &nbsp "+l+'% off</small>\n                                            </div>\n                                            <div class="inner_container font-bold text18 mr_3 lineclampin">\n                                                Store : '+e[n].shop_name+"\n                                            </div>\n\n                                        </div>\n                                    </div>\n                                </a>\n                            </div></div>"}"more_product_div"==t?$("."+t).append(o):$("#"+t).html(o),$(".js_filter_loading").hide(),unchecked_all_checkbox(),checked_checkbox(),selectsort(),$.stickit.refresh()}function show_Product_Error1(){}function show_Product_Error(t){$("#product_body_div").html(t),$(".js_filter_loading").hide(),unchecked_all_checkbox(),checked_checkbox(),selectsort()}function generate_json_url(){var t=window.location.pathname;t+="/json";var e=getFullUrl();e.page=page;var i="?";for(var s in e)i=i+s+"="+e[s]+"&";return t+=i=i.substring(0,i.length-1)}function AutoScrollTop(){return $("html, body").animate({scrollTop:0},600),!1}function getAllShop(){var t=window.location.pathname,e=getFullUrl(),i="";void 0==e.sort&&null==e.sort&&""==e.sort||(i="&sort="+e.sort);var s="?shop=All Shop&category="+e.category+"&gender="+e.gender+i;changeUrl(s=t+s)}$(document).ready(function(){$("#mobile_filter_js").html('<div class="js_filter_loading loading_product_div"></div>'+$("#pc_product_filter").html()),$(".product_filter_row").stickit({top:100}),checked_checkbox(),selectsort();var t=getFullUrl(),e=window.location.pathname;e=e.split("/");var i={sub_category:decodeURIComponent(e[e.length-1]),category:t.category,gender:t.gender};void 0==t.q||null==t.q?loadsizes(i):$(".js_sizes_filter").hide(),$(document).on("change",".shop_name_search",function(){console.log("shop search type"),$(".js_search_shop_result").html("searching shop...");var t=$(this).val();if(""==t.trim()){var e="";return e+='<div class="checkbox">\n           <label class="container"><input type="checkbox" class="filter-input" name="shop" value="dress code">&nbsp\n               <span class="checkmark"></span>Dress code\n           </label>\n       </div>',$(".js_search_shop_result").html(e),!1}var i=window.location.pathname.split("/"),s={city:i=i[2],shop:t};$.ajax({type:"post",url:"/search/shop",data:s,dataType:"json",success:function(t){if(console.log("response"+t),"No Shop Found"==t)return $(".js_search_shop_result").html("Sorry! This shop not connected with us.Ask them to connect with us (Totally Free!)"),!1;for(var e="",i=0;i<t.length;i++)e=e+'<div class="checkbox">\n           <label class="container"><input type="checkbox" class="filter-input" name="shop" value="'+t[i].name+'">&nbsp\n               <span class="checkmark"></span>\n'+t[i].name+"           </label>\n       </div>";$(".js_search_shop_result").html(e)},error:function(t,e,i){$(".js_search_shop_result").html("failed to load shop")}}),e=""}),$(document).on("change",".filter-input",function(){page=1,AutoScrollTop();var t=$(this).attr("name"),e=$(this).attr("value"),i="";if($(this).is(":checked")){if(i=addFilter(t,e)){changeUrl(i);var s=generate_json_url();return $(".js_filter_loading").show(),getProduct("product_body_div",s),!0}$(this).prop("checked",!1)}else{(i=removeFilter(t,e))&&changeUrl(i);s=generate_json_url();$(".js_filter_loading").show(),getProduct("product_body_div",s)}}),$(document).on("change",".product_sort",function(){page=1,AutoScrollTop();var t=getFullUrl();t.sort=$(this).val();var e=window.location.pathname,i="?";for(var s in t)i=i+s+"="+t[s]+"&";changeUrl(i=e+(i=i.substring(0,i.length-1)));e=generate_json_url();$(".js_filter_loading").show(),getProduct("product_body_div",e)}),$(document).on("click",".product_sort_click",function(){page=1,AutoScrollTop();var t=getFullUrl();t.sort=$(this).attr("data-value");var e=window.location.pathname,i="?";for(var s in t)i=i+s+"="+t[s]+"&";changeUrl(i=e+(i=i.substring(0,i.length-1)));e=generate_json_url();$(".js_filter_loading").show(),getProduct("product_body_div",e)}),$(document).on("click",".clear_all_filter",function(){page=1,clear_filter();var t=generate_json_url();$(".js_filter_loading").show(),getProduct("product_body_div",t),AutoScrollTop()}),$(document).on("click",".js_all_shop_btn",function(){page=1,getAllShop();var t=generate_json_url();$(".js_filter_loading").show(),getProduct("product_body_div",t),AutoScrollTop()}),$(document).on("click",".filter_result_btn",function(){page=1,AutoScrollTop(),changeUrl(removeFilter($(this).attr("data-name"),$(this).attr("data-value")));var t=generate_json_url();$(".js_filter_loading").show(),getProduct("product_body_div",t)}),$(".js_scroll_top").click(function(){AutoScrollTop()}),$("#load_more_product_btn").click(function(){$("#loading_sign").show(),page++;var t=window.location.pathname,e=getFullUrl();t=t+"/json?shop="+e.shop+"&gender="+e.gender+"&category="+e.category+"&page="+page,e=getUrl();var i=0;for(var s in e)i=1,t=t+"&"+s+"="+e[s]+"&";1==i&&(t=t.substring(0,t.length-1)),ajax_call1(t,"get","more_product_div","","showProduct")})});